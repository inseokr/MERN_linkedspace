<% include ../../partials/header %>

<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>                                                                                              
<link rel="stylesheet" href="/stylesheets/step_wizard.css">


<div class="container" style="text-align: center; margin-bottom: 10px">
  <h3>Posting Rental Request</h3>  
</div>

<div class="container">
  
<div class="stepwizard offset-md-3">
    <div class="stepwizard-row setup-panel">
      <div class="stepwizard-step">
        <a class="btn btn-outline-secondary btn-circle" href='<%="/listing/tenant/"+listing_info.listing_id+"/step1"%>' type="button">1</a>
      </div>
      <div class="stepwizard-step">
        <a disabled="disabled" class="btn btn-primary btn-circle" href='<%="/listing/tenant/"+listing_info.listing_id+"/step2"%>' type="button">2</a>
      </div>
      <div class="stepwizard-step">
        <a disabled="disabled" class="btn btn-outline-secondary btn-circle" href='<%="/listing/tenant/"+listing_info.listing_id+"/step3"%>' type="button">3</a>
      </div>
    </div>
  </div>
  
  <form role="form" action="/listing/tenant/<%=listing_info.listing_id%>?_method=PUT" method="post">
    <div class="row setup-content" id="step-2" style="margin-top:30px;">
      <div class="col-md-6 offset-md-3">
        <div class="col-md-12">
          <div style="text-align:center">
            <h5> Rental Preferences</h5>
          </div>
          <hr>
          <div class="p-2">
            <div class="col form-check-inline listing-check-box" style="margin-left: 5px;">
              <label class="switch switch-sm" style="margin-bottom: auto">
                <input type="checkbox" class="primary" style="margin-left:-3px" name="preferences[furnished]" id="furnished">
                <span class="slider-sm round"></span>
              </label>
            <div style="margin-bottom:auto; margin-left: 5px;"> Furnished </div>
            </div>
          </div>

          <div class="p-2">
            <div class="col form-check-inline listing-check-box" style="margin-left: 5px;">
              <label class="switch switch-sm" style="margin-bottom: auto">
                <input type="checkbox" class="primary" style="margin-left:-3px" name="preferences[kitchen]" id="kitchen">
                <span class="slider-sm round"></span>
              </label>
            <div style="margin-bottom:auto; margin-left: 5px;"> Kitchen </div>
            </div>
          </div>

          <div class="p-2">
            <div class="col form-check-inline listing-check-box" style="margin-left: 5px;">
              <label class="switch switch-sm" style="margin-bottom: auto">
                <input type="checkbox" class="primary" style="margin-left:-3px" name="preferences[parking]" id="parking">
                <span class="slider-sm round"></span>
              </label>
            <div style="margin-bottom:auto; margin-left: 5px;"> Parking </div>
            </div>
          </div>

          <div class="p-2">
            <div class="col form-check-inline listing-check-box" style="margin-left: 5px;">
              <label class="switch switch-sm" style="margin-bottom: auto">
                <input type="checkbox" class="primary" style="margin-left:-3px" name="preferences[laundry]" id="laundry">
                <span class="slider-sm round"></span>
              </label>
            <div style="margin-bottom:auto; margin-left: 5px;"> Laundry </div>
            </div>
          </div>

          <div class="p-2">
            <div class="col form-check-inline listing-check-box" style="margin-left: 5px;">
              <label class="switch switch-sm" style="margin-bottom: auto">
                <input type="checkbox" class="primary" style="margin-left:-3px" name="preferences[internet]" id="internet">
                <span class="slider-sm round"></span>
              </label>
            <div style="margin-bottom:auto; margin-left: 5px;"> Internet </div>
            </div>
          </div>

          <div class="p-2">
            <div class="col form-check-inline listing-check-box" style="margin-left: 5px;">
              <label class="switch switch-sm" style="margin-bottom: auto">
                <input type="checkbox" class="primary" style="margin-left:-3px" name="preferences[private_bathroom]" id="private_bathroom">
                <span class="slider-sm round"></span>
              </label>
            <div style="margin-bottom:auto; margin-left: 5px;"> Private Bathroom </div>
            </div>
          </div>

          <div class="p-2">
            <div class="col form-check-inline listing-check-box" style="margin-left: 5px;">
              <label class="switch switch-sm" style="margin-bottom: auto">
                <input type="checkbox" class="primary" style="margin-left:-3px" name="preferences[shared_living_room]" id="shared_living_room">
                <span class="slider-sm round"></span>
              </label>
            <div style="margin-bottom:auto; margin-left: 5px;"> Living Room </div>
            </div>
          </div>


          <div class="p-2">
            <div class="col form-check-inline listing-check-box" style="margin-left: 5px;">
              <label class="switch switch-sm" style="margin-bottom: auto">
                <input type="checkbox" class="primary" style="margin-left:-3px" name="preferences[separate_access]" id="separate_access">
                <span class="slider-sm round"></span>
              </label>
            <div style="margin-bottom:auto; margin-left: 5px;"> Separate Entrance to house/room </div>
            </div>
          </div>

          <div class="p-2">
            <div class="col form-check-inline listing-check-box" style="margin-left: 5px;">
              <label class="switch switch-sm" style="margin-bottom: auto">
                <input type="checkbox" class="primary" style="margin-left:-3px" name="preferences[pet_allowed]" id="pet_allowed">
                <span class="slider-sm round"></span>
              </label>
            <div style="margin-bottom:auto; margin-left: 5px;"> Pet Allowed </div>
            </div>
          </div>

          <div class="p-2">
            <div class="col form-check-inline listing-check-box" style="margin-left: 5px;">
              <label class="switch switch-sm" style="margin-bottom: auto">
                <input type="checkbox" class="primary" style="margin-left:-3px" name="preferences[smoking_allowed]" id="smoking_allowed">
                <span class="slider-sm round"></span>
              </label>
            <div style="margin-bottom:auto; margin-left: 5px;"> Smoking allowed </div>
            </div>
          </div>

          <div class="p-2">
            <div class="col form-check-inline listing-check-box" style="margin-left: 5px;">
              <label class="switch switch-sm" style="margin-bottom: auto">
                <input type="checkbox" class="primary" style="margin-left:-3px" name="preferences[easy_access_public_transport]" id="easy_access_public_transport">
                <span class="slider-sm round"></span>
              </label>
            <div style="margin-bottom:auto; margin-left: 5px;"> Easy access to public transport </div>
            </div>
          </div>

          <div class="p-2">
            <div class="col form-check-inline listing-check-box" style="margin-left: 5px;">
              <label class="switch switch-sm" style="margin-bottom: auto">
                <input type="checkbox" class="primary" style="margin-left:-3px" name="preferences[rent_whole_unit]" id="rent_whole_unit">
                <span class="slider-sm round"></span>
              </label>
            <div style="margin-bottom:auto; margin-left: 5px;"> Rent a whole unit </div>
            </div>
          </div>

          
            <hr>
            <!-- type of rental unit -->
            <div class="row" style="margin-bottom=0px">
              <div class="form-group" style="margin-left:10px">
                <label class="control-label">Type of Rental Unit</label>
                  <select name="preferences[rental_unit_type]" id="rental_unit_type">
                  <option value="apartment"> Apartment </option>
                  <option value="house"> Single house </option>
                </select>
              </div>
              <div class="form-group" style="margin-left:90px">
                <label class="control-label">Number of Rooms</label>
                <select name="preferences[num_of_rooms]" id="num_of_rooms">
                  <option  value="1">1</option>
                  <option  value="2">2</option>
                  <option  value="3">3 </option>
                </select>
              </div>
            </div>
            <hr>
            <div style="margin-top: 40px">
              <a href='<%="/listing/tenant/"+listing_info.listing_id+"/step1"%>' class="btn btn-success btn-lg float-left">Prev</a>
              <button class="btn btn-primary nextBtn btn-lg float-right" type="submit" name="submit" value="step#2">Next</button>
            </div>
        </div>
      </div>
    </div>
  </form>
</div>

<script>
<%if(listing_info.listing!=null){%>
  <% var preferences = 
      ["furnished", "kitchen", "parking", "laundry", "internet", "private_bathroom", 
       "shared_living_room", "separate_access", "pet_allowed", "smoking_allowed",
       "easy_access_public_transport", "rent_whole_unit"
      ];%>

  <%for(var prefIndex=0; prefIndex<preferences.length; prefIndex++) {%>
    var idName = "#<%=preferences[prefIndex]%>";
    var value = "<%=eval('listing_info.listing.rental_preferences.' + preferences[prefIndex])%>";
    if(value=="on")
    {
      $(idName).prop("checked", true);
    }
  <%}%>
<%}%>
</script>
<% include ../../partials/footer %>